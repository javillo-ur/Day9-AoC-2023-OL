Console.WriteLine(new List<string[]>(){File.ReadAllLines("input.txt")}.Select(j => j.Select(r => r.Split(" ").Where(t => int.TryParse(t, out _)).Select(j => int.Parse(j)).ToList())).Select(j => j.Select(sequence => sequence.Aggregate(new List<List<int>>(){sequence.ToList()} as IEnumerable<List<int>>, (previous, current) => [.. previous, Enumerable.Range(1, previous.Last().Count - 1).Aggregate(new List<int>(), (aux, i) => [.. aux, previous.Last()[i] - previous.Last()[i-1]])]))).Select(j => j.Select(seqs => Enumerable.Range(1, seqs.Count() - 1).Aggregate(new Tuple<int,int>(seqs.Reverse().Last().Last(), 0), (curr, i) => new(seqs.Reverse().ToList()[i].Last(), curr.Item1 + curr.Item2)).Item2)).First().Sum());